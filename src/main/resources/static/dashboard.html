<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quản lý giao dịch</title>
    <link rel="stylesheet" href="css/dashboard.css" />
</head>

<body>
<main class="page">
    <header class="page__header">
        <div class="page__header-top">
            <div class="page__headline">
                <h1 class="page__title">Quản lý giao dịch</h1>

            </div>
            <a class="button button--ghost page__home-link" href="home.html">← Về trang chủ</a>
        </div>
    </header>

    <section class="cards">
        <section class="card card--narrow">
            <div class="section-heading">
                <h2 class="section-heading__title">Thêm giao dịch mới</h2>
                <p class="section-heading__subtitle">Điền thông tin chi tiết bên dưới để ghi nhận giao dịch của bạn.</p>
            </div>
            <form id="transactionCreateForm" class="transaction-form">
                <div class="transaction-form__field">
                    <label for="transactionCreateDescription">Mô tả</label>
                    <input id="transactionCreateDescription" type="text" name="description" placeholder="Ví dụ: Lương tháng 5" required />
                </div>
                <div class="transaction-form__field">
                    <label for="transactionCreateCategory">Danh mục</label>
                    <input id="transactionCreateCategory" type="text" name="category" placeholder="Ví dụ: Thu nhập" />
                </div>
                <div class="transaction-form__field">
                    <label for="transactionCreateType">Loại giao dịch</label>
                    <select id="transactionCreateType" name="type">
                        <option value="INCOME">Thu nhập</option>
                        <option value="EXPENSE">Chi tiêu</option>
                    </select>
                </div>
                <div class="transaction-form__field">
                    <label for="transactionCreateAmount">Số tiền</label>
                    <input id="transactionCreateAmount" type="number" name="amount" min="0" step="0.01" placeholder="0" required />
                </div>
                <div class="transaction-form__field">
                    <label for="transactionCreateDate">Ngày giao dịch</label>
                    <input id="transactionCreateDate" type="date" name="transactionDate" />
                </div>
                <div class="transaction-form__field" style="grid-column: 1 / -1;">
                    <div class="form-actions">
                        <button class="button button--ghost" type="reset">Làm mới</button>
                        <button class="button button--primary" type="submit">Thêm giao dịch</button>
                    </div>
                </div>
            </form>
            <p class="transaction-create__status" data-role="transaction-create-status" hidden></p>
        </section>

        <section class="card">
            <div class="section-heading">
                <h2 class="section-heading__title">Bộ lọc giao dịch</h2>
                <p class="section-heading__subtitle">Sử dụng bộ lọc để nhanh chóng tìm giao dịch theo nội dung, danh mục hoặc thời gian.</p>
            </div>
            <div class="transaction-filters">
                <div class="transaction-filters__field">
                    <label class="transaction-form__field">
                        <span>Tìm kiếm</span>
                        <input id="transactionSearch" placeholder="Nhập từ khoá mô tả..." />
                    </label>
                </div>
                <div class="transaction-filters__field">
                    <label class="transaction-form__field">
                        <span>Loại giao dịch</span>
                        <select id="transactionTypeFilter">
                            <option value="">Tất cả loại</option>
                            <option value="INCOME">Thu nhập</option>
                            <option value="EXPENSE">Chi tiêu</option>
                        </select>
                    </label>
                </div>
                <div class="transaction-filters__field">
                    <label class="transaction-form__field">
                        <span>Từ ngày</span>
                        <input type="date" id="transactionDateFrom" />
                    </label>
                </div>
                <div class="transaction-filters__field">
                    <label class="transaction-form__field">
                        <span>Đến ngày</span>
                        <input type="date" id="transactionDateTo" />
                    </label>
                </div>
                <div class="transaction-filters__field">
                    <label class="transaction-form__field">
                        <span>Danh mục</span>
                        <select id="transactionCategoryFilter">
                            <option value="">Tất cả danh mục</option>
                        </select>
                    </label>
                </div>
                <div class="transaction-form__field" style="flex: 0 0 auto; align-self: flex-end;">
                    <button class="button button--ghost" id="transactionResetFilters" type="button">Đặt lại</button>
                </div>
            </div>
        </section>
    </section>

    <section class="card">
        <div class="section-heading">
            <h2 class="section-heading__title">Danh sách giao dịch</h2>
            <p class="section-heading__subtitle">Theo dõi trạng thái các giao dịch mới nhất, chỉnh sửa hoặc xoá khi cần.</p>
        </div>
        <div class="transaction-table-wrapper">
            <table id="transactionTable" class="transaction-table">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Ngày giao dịch</th>
                    <th>Mô tả</th>
                    <th>Danh mục</th>
                    <th>Loại</th>
                    <th>Số tiền</th>
                    <th>Hành động</th>
                </tr>
                </thead>
                <tbody id="transactionBody" data-role="transaction-body"></tbody>
            </table>
        </div>
    </section>
</main>

<dialog id="transactionEditor">
    <form id="transactionEditForm" class="transaction-form">
        <h2 data-role="transaction-edit-title">Chỉnh sửa giao dịch</h2>
        <div class="transaction-form__field" style="grid-column: 1 / -1;">
            <label for="transactionEditDescription">Mô tả</label>
            <input id="transactionEditDescription" type="text" name="description" required />
        </div>
        <div class="transaction-form__field">
            <label for="transactionEditCategory">Danh mục</label>
            <input id="transactionEditCategory" type="text" name="category" />
        </div>
        <div class="transaction-form__field">
            <label for="transactionEditType">Loại giao dịch</label>
            <select id="transactionEditType" name="type">
                <option value="INCOME">Thu nhập</option>
                <option value="EXPENSE">Chi tiêu</option>
            </select>
        </div>
        <div class="transaction-form__field">
            <label for="transactionEditAmount">Số tiền</label>
            <input id="transactionEditAmount" type="number" name="amount" step="0.01" min="0" required />
        </div>
        <div class="transaction-form__field">
            <label for="transactionEditDate">Ngày giao dịch</label>
            <input id="transactionEditDate" type="date" name="transactionDate" />
        </div>
        <menu>
            <button class="button button--ghost" type="button" data-action="cancel-edit">Huỷ</button>
            <button class="button button--primary" type="submit">Lưu</button>
        </menu>
    </form>
</dialog>

<script type="module" src="js/pages/transactionPage.js"></script>
</body>
</html>